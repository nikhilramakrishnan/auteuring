/* Theme overrides when toggle is used */

// Force dark theme when theme-dark class is present
.theme-dark {
  @media (prefers-color-scheme: light) {
    color-scheme: dark;
    
    // These variables are from hugo-book theme
    --body-background: #343a40;
    --body-font-color: #e9ecef;
    --gray-100: #f8f9fa;
    --gray-200: #e9ecef;
    --gray-500: #adb5bd;
    --color-link: #84b2ff;
    --color-visited-link: #b88dff;
    --icon-filter: brightness(0) invert(1);
    
    background-color: var(--body-background);
    color: var(--body-font-color);
  }
}

// Force light theme when theme-light class is present
.theme-light {
  @media (prefers-color-scheme: dark) {
    color-scheme: light;
    
    // These variables are from hugo-book theme
    --body-background: white;
    --body-font-color: black;
    --gray-100: rgba(0, 0, 0, 0.1);
    --gray-200: rgba(0, 0, 0, 0.2);
    --gray-500: rgba(0, 0, 0, 0.5);
    --color-link: #05b;
    --color-visited-link: #8440f1;
    --icon-filter: none;
    
    background-color: var(--body-background);
    color: var(--body-font-color);
  }
}

// Fix mobile header icon colors
@media screen and (max-width: 56rem) {
  // Ensure header icons are visible in light mode
  .book-header {
    --icon-filter: none;
  }
  
  // In dark mode, make header icons white
  .theme-dark .book-header {
    --icon-filter: brightness(0) invert(1);
  }
  
  // When system prefers dark and no override
  @media (prefers-color-scheme: dark) {
    html:not(.theme-light) .book-header {
      --icon-filter: brightness(0) invert(1);
    }
  }
}